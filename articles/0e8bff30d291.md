---
title: "ClaudeCodeの活動をGitHub風に可視化するツールを作った"
emoji: "📊"
type: "tech"
topics: ["claude", "cli", "go", "developer-tools", "productivity"]
published: false
---

# はじめに

ClaudeCodeを使っていて、今日はどれくらい働いてもらったのかを知りたいと思ったのでそれがわかるCLIツールを作りました。
GitHubの草のような感じでClaudeCodeの労働を監督することができます。

https://github.com/ktny/ccstat

## ccstatの機能

ClaudeCodeは実行したディレクトリごとに`~/.claude/projects`にセッションログを保存しているため、それを解析してディレクトリごとに指定の期間で活動履歴を表示、集計するのが主な機能です。

主な機能：
- 📊 **活動量の可視化**: GitHubの草風に色分けして表示
- ⏱️ **スマートな時間計測**: 実際のアクティブ時間を計算
- 📁 **プロジェクト別集計**: ディレクトリごとの作業量を把握
- 🌲 **Git統合**: リポジトリ単位での集計とworktree対応

git worktreeなどを使っていると別のディレクトリでも同じリポジトリの作業ということがあるため、単にディレクトリではなくgitリポジトリが同じであればまとめて集計したり、リポジトリ単位で親子表示をすることなどができます。

## 実際に使ってみる

### インストール

```bash
curl -fsSL https://ktny.github.io/ccstat/install.sh | sh
```

### 基本的な使い方

```bash
# 基本の24時間ビュー
ccstat
```

ccstatと実行すると、現在から過去24時間のClaudeCodeの活動履歴をプロジェクトごとに見ることができます。

```
Claude Code Activity Timeline - Last 24 hours

myproject (~/dev/myproject)
├─ 2024-06-29 12:00 ████████████████████████ 45 sessions (2h 30m)
├─ 2024-06-29 13:00 ████████████▓▓▓▓▓▓▓▓▓▓▓▓ 23 sessions (1h 15m)
└─ 2024-06-29 14:00 ████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ 18 sessions (45m)

another-project (~/dev/another-project)
└─ 2024-06-29 15:00 ████████████████▓▓▓▓▓▓▓▓ 28 sessions (1h 20m)

Total: 114 sessions, 5h 50m active time across 2 projects
```

`-w, --worktree`でworktreeを親子表示することができます。

他、もっと過去まで遡ったり、直近数時間に絞ることや、特定のプロジェクトのみに絞って表示することができます。

```sh
# 過去7日間の活動を表示
ccstat --days 7

# 過去6時間の詳細な活動
ccstat --hours 6

# 特定のプロジェクトのみ表示
ccstat --project myproject

# worktreeを親子表示
ccstat --worktree
```

### 活用例

**開発リズムの把握**
```bash
# 今週の作業パターンをチェック
ccstat --days 7
```

**プロジェクトの作業量確認**
```bash
# 特定プロジェクトの集中度を見る
ccstat --project important-feature --hours 12
```

## おわりに

このツールの開発にもClaudeCodeを使っていますが、本当に一昔前では考えられないスピードでこのツールを開発することができました。
今まではアイデアを思いついたものの完成するまでに時間がかかり挫折するということもしばしばありましたがそんなことが相当減りそうです。

使ってみた感想などいただけると大変うれしいです！
